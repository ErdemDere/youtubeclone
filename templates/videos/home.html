{% extends 'base.html' %}

{% block content %}
<!-- Category Filter Chips -->
<div class="categories">
    {% for category in categories %}
    <button class="category-chip {% if forloop.first %}active{% endif %}">{{ category }}</button>
    {% endfor %}
</div>

<!-- Video Grid -->
<div class="video-grid">
    {% for video in videos %}
    <a href="{% url 'watch' video.id %}" class="video-card-link">
        <div class="video-card">
            <div class="thumbnail-container">
                <img src="{{ video.thumbnail }}" alt="{{ video.title }}" class="thumbnail">
                <span class="duration">{{ video.duration }}</span>
            </div>
            <div class="video-info">
                <img src="{{ video.avatar }}" alt="{{ video.channel }}" class="channel-avatar">
                <div class="video-details">
                    <h3 class="video-title">{{ video.title }}</h3>
                    <div class="channel-name">
                        {{ video.channel }}
                        {% if video.channel_verified %}
                        <svg class="verified-badge" viewBox="0 0 24 24" width="14" height="14">
                            <path fill="currentColor"
                                d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM9.8 17.3l-4.2-4.1L7 11.8l2.8 2.7L17 7.4l1.4 1.4-8.6 8.5z" />
                        </svg>
                        {% endif %}
                    </div>
                    <div class="video-meta">{{ video.views }} â€¢ {{ video.time }}</div>
                </div>
                <button class="more-btn" onclick="event.preventDefault();">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor"
                            d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z" />
                    </svg>
                </button>
            </div>
        </div>
    </a>
    {% endfor %}
</div>

<!-- Shorts Section -->
<div class="shorts-section">
    <div class="shorts-header">
        <svg viewBox="0 0 24 24" width="24" height="24" class="shorts-icon">
            <path fill="#f00"
                d="M10 14.65v-5.3L15 12l-5 2.65zm7.77-4.33c-.77-.32-1.2-.5-1.2-.5L18 9.06c1.84-.96 2.53-3.23 1.56-5.06s-3.24-2.53-5.07-1.56L6 6.94c-1.29.68-2.07 2.04-2 3.49.07 1.42.93 2.67 2.22 3.25.03.01 1.2.5 1.2.5L6 14.93c-1.83.97-2.53 3.24-1.56 5.07.97 1.83 3.24 2.53 5.07 1.56L18 17.06c1.29-.68 2.06-2.04 1.99-3.49-.07-1.42-.94-2.68-2.22-3.25z" />
        </svg>
        <h2>Shorts</h2>
    </div>
    <div class="shorts-container">
        {% for short in shorts %}
        <a href="{% url 'shorts' short.id %}" class="short-card-link">
            <div class="short-card">
                <img src="{{ short.thumbnail }}" alt="{{ short.title }}" class="short-thumbnail">
                <div class="short-overlay">
                    <h4 class="short-title">{{ short.title }}</h4>
                    <span class="short-views">{{ short.views }}</span>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>
{% endblock %}