{% extends 'base.html' %}

{% block content %}
<div class="history-section">
    <h2>Watch History</h2>
    {% if videos %}
    <div class="video-grid">
        {% for video in videos %}
        <a href="{% url 'watch' video.id %}" class="video-card-link">
            <div class="video-card">
                <div class="thumbnail-container">
                    <img src="{{ video.thumbnail }}" alt="{{ video.title }}" class="thumbnail">
                    <span class="duration">{{ video.duration }}</span>
                </div>
                <div class="video-info">
                    <img src="{{ video.avatar }}" alt="{{ video.channel }}" class="channel-avatar">
                    <div class="video-details">
                        <h3 class="video-title">{{ video.title }}</h3>
                        <div class="channel-name">
                            {{ video.channel }}
                            {% if video.channel_verified %}
                            <svg class="verified-badge" viewBox="0 0 24 24" width="14" height="14">
                                <path fill="currentColor"
                                    d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM9.8 17.3l-4.2-4.1L7 11.8l2.8 2.7L17 7.4l1.4 1.4-8.6 8.5z" />
                            </svg>
                            {% endif %}
                        </div>
                        <div class="video-meta">{{ video.views }} â€¢ {{ video.time }}</div>
                    </div>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <p>No videos watched yet.</p>
    {% endif %}
</div>
{% endblock %}